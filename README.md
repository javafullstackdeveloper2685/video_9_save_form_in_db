# POST-–∑–∞–ø—Ä–æ—Å—ã –≤ Java Servlets üöÄ Fetch API + JSON

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å POST-–∑–∞–ø—Ä–æ—Å–∞–º–∏ –≤ Java Servlets, –∏—Å–ø–æ–ª—å–∑—É—è Fetch API –∏ JSON. –í—ã —É–∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∏—Ö –∏ –≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç.

## üìå –ß—Ç–æ –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ:
- **–†–∞–±–æ—Ç–∞ —Å Fetch API**: –ü—Ä–æ—Å—Ç–æ–µ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ POST-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ JavaScript.
- **Java Servlets**: –ü—Ä–∏–µ–º, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.
- **–ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ**: –û—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Maven WebApp –¥–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- **Java**
- **Java Servlets**
- **Maven**
- **Fetch API**
- **IntelliJ IDEA Community Edition**

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç:

1. **–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```bash
   git clone https://github.com/javafullstackdeveloper2685/video-7-post-request-servlets.git
   ```

2. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ IntelliJ IDEA:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Å–µ—Ä–≤–µ—Ä Tomcat.
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Tomcat –≤ —Ä–∞–∑–¥–µ–ª–µ "Run Configurations".

3. **–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   - –°–æ–∑–¥–∞–π—Ç–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç WAR —á–µ—Ä–µ–∑ Maven:
     ```bash
     mvn clean package
     ```
   - –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –µ–≥–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Tomcat.

4. **–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:**
   –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É:
   ```bash
   http://localhost:8080/index.html
   ```

5. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ POST-–∑–∞–ø—Ä–æ—Å:**
   - –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∏—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–≤–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞.

## üîç –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞:

### 1. HTML –∏ Fetch API (client-side):
```html
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>POST-–∑–∞–ø—Ä–æ—Å—ã</title>
</head>
<body>
    <h1>–û—Ç–ø—Ä–∞–≤–∫–∞ POST-–∑–∞–ø—Ä–æ—Å–∞</h1>
    <input type="text" id="message" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ">
    <button id="send">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const sendBtn = document.querySelector("#send");
            const inputMessage = document.querySelector("#message");
            const output = document.querySelector("#output");

            const sendMessage = async () => {
                const messageText = inputMessage.value.trim();

                if (!messageText) {
                    output.innerHTML = `<p style="color: red;">–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ!</p>`;
                    return;
                }

                try {
                    sendBtn.disabled = true; // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
                    const response = await fetch('/your-webapp-context/YourServlet', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ message: messageText })
                    });

                    if (!response.ok) {
                        throw new Error(`–û—à–∏–±–∫–∞! –°—Ç–∞—Ç—É—Å: ${response.status}`);
                    }

                    const data = await response.json();
                    output.innerHTML = `<p>–°—Ç–∞—Ç—É—Å: ${data.status}</p><p>–°–æ–æ–±—â–µ–Ω–∏–µ: ${data.echoMessage}</p>`;
                } catch (error) {
                    output.innerHTML = `<p style="color: red;">–û—à–∏–±–∫–∞: ${error.message}</p>`;
                } finally {
                    sendBtn.disabled = false; // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
                }
            };

            sendBtn.addEventListener('click', sendMessage);
        });
    </script>

    <div id="output"></div>
</body>
</html>
```

### 2. Java Servlet (server-side):
```java
@WebServlet("/YourServlet")
public class YourServlet extends HttpServlet {
    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws IOException {
        // –ß—Ç–µ–Ω–∏–µ JSON –∏–∑ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞
        StringBuilder sb = new StringBuilder();
        try (BufferedReader reader = request.getReader()) {
            String line;
            while ((line = reader.readLine()) != null) {
                sb.append(line);
            }
        }

        // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ JSON –≤ –æ–±—ä–µ–∫—Ç
        Gson gson = new Gson();
        RequestData requestData = gson.fromJson(sb.toString(), RequestData.class);

        // –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
        ResponseData responseData = new ResponseData("OK", "–ü–æ–ª—É—á–µ–Ω–æ: " + requestData.getMessage());
        String jsonResponse = gson.toJson(responseData);

        // –û—Ç–ø—Ä–∞–≤–∫–∞ JSON-–æ—Ç–≤–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç—É
        response.setContentType("application/json");
        response.setCharacterEncoding("UTF-8");
        response.getWriter().write(jsonResponse);
    }
}

class RequestData {
    private String message;

    public String getMessage() {
        return message;
    }

    public void setMessage(String message) {
        this.message = message;
    }
}

class ResponseData {
    private String status;
    private String echoMessage;

    public ResponseData(String status, String echoMessage) {
        this.status = status;
        this.echoMessage = echoMessage;
    }
}
```

## üéØ –ß–µ–º—É –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å:
- –ö–∞–∫ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ POST-–∑–∞–ø—Ä–æ—Å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Fetch API.
- –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å JSON-–∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞.
- –ö–∞–∫ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.

## üìà –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π.
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Docker Compose –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- –°–æ–∑–¥–∞–Ω–∏–µ RESTful API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∫–ª–∏–µ–Ω—Ç–æ–º.

---

üí° –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –ø–∏—à–∏—Ç–µ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –∏–ª–∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ Issue. –£–¥–∞—á–∏ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏! üöÄ
